//using Molten.Font;
//using Molten.Graphics;
//using System;
//using System.Collections.Generic;
//using System.Diagnostics;
//using System.IO;
//using System.Linq;
//using System.Text;
//using System.Threading.Tasks;

//namespace Molten.Samples
//{
//    public class SpriteFontStress : SampleSceneGame
//    {
//        public override string Description => "A stress test of sprite rendering.";

//        SceneObject _parent;
//        SceneObject _child;
//        Random _rng;
//        List<IRenderable2D> _sprites;
//        IMesh<VertexTexture> _mesh;

//        public SpriteFontStress(EngineSettings settings = null) : base("SpriteFont Stress Test", settings)
//        {

//        }

//        protected override void OnInitialize(Engine engine)
//        {
//            base.OnInitialize(engine);

//            _sprites = new List<IRenderable2D>();
//            _rng = new Random();
//            throw new NotImplementedException(); // TODO: re-write below
//            //_font = engine.Renderer.Resources.CreateFont("arial", 36);
//            //SetupSprites(_font);

//            ContentRequest cr = engine.Content.BeginRequest("assets/");
//            cr.Load<ITexture2D>("dds_test.dds;mipmaps=true");
//            cr.Load<IMaterial>("Basictexture.mfx");
//            cr.OnCompleted += Cr_OnCompleted;
//            cr.Commit();

//            _mesh = Engine.Renderer.Resources.CreateMesh<VertexTexture>(36);

//            VertexTexture[] verts = new VertexTexture[]{
//               new VertexTexture(new Vector3F(-1,-1,-1), new Vector2F(0,1)), //front
//               new VertexTexture(new Vector3F(-1,1,-1), new Vector2F(0,0)),
//               new VertexTexture(new Vector3F(1,1,-1), new Vector2F(1,0)),
//               new VertexTexture(new Vector3F(-1,-1,-1), new Vector2F(0,1)),
//               new VertexTexture(new Vector3F(1,1,-1), new Vector2F(1, 0)),
//               new VertexTexture(new Vector3F(1,-1,-1), new Vector2F(1,1)),

//               new VertexTexture(new Vector3F(-1,-1,1), new Vector2F(1,0)), //back
//               new VertexTexture(new Vector3F(1,1,1), new Vector2F(0,1)),
//               new VertexTexture(new Vector3F(-1,1,1), new Vector2F(1,1)),
//               new VertexTexture(new Vector3F(-1,-1,1), new Vector2F(1,0)),
//               new VertexTexture(new Vector3F(1,-1,1), new Vector2F(0, 0)),
//               new VertexTexture(new Vector3F(1,1,1), new Vector2F(0,1)),

//               new VertexTexture(new Vector3F(-1,1,-1), new Vector2F(0,1)), //top
//               new VertexTexture(new Vector3F(-1,1,1), new Vector2F(0,0)),
//               new VertexTexture(new Vector3F(1,1,1), new Vector2F(1,0)),
//               new VertexTexture(new Vector3F(-1,1,-1), new Vector2F(0,1)),
//               new VertexTexture(new Vector3F(1,1,1), new Vector2F(1, 0)),
//               new VertexTexture(new Vector3F(1,1,-1), new Vector2F(1,1)),

//               new VertexTexture(new Vector3F(-1,-1,-1), new Vector2F(1,0)), //bottom
//               new VertexTexture(new Vector3F(1,-1,1), new Vector2F(0,1)),
//               new VertexTexture(new Vector3F(-1,-1,1), new Vector2F(1,1)),
//               new VertexTexture(new Vector3F(-1,-1,-1), new Vector2F(1,0)),
//               new VertexTexture(new Vector3F(1,-1,-1), new Vector2F(0, 0)),
//               new VertexTexture(new Vector3F(1,-1,1), new Vector2F(0,1)),

//               new VertexTexture(new Vector3F(-1,-1,-1), new Vector2F(0,1)), //left
//               new VertexTexture(new Vector3F(-1,-1,1), new Vector2F(0,0)),
//               new VertexTexture(new Vector3F(-1,1,1), new Vector2F(1,0)),
//               new VertexTexture(new Vector3F(-1,-1,-1), new Vector2F(0,1)),
//               new VertexTexture(new Vector3F(-1,1,1), new Vector2F(1, 0)),
//               new VertexTexture(new Vector3F(-1,1,-1), new Vector2F(1,1)),

//               new VertexTexture(new Vector3F(1,-1,-1), new Vector2F(1,0)), //right
//               new VertexTexture(new Vector3F(1,1,1), new Vector2F(0,1)),
//               new VertexTexture(new Vector3F(1,-1,1), new Vector2F(1,1)),
//               new VertexTexture(new Vector3F(1,-1,-1), new Vector2F(1,0)),
//               new VertexTexture(new Vector3F(1,1,-1), new Vector2F(0, 0)),
//               new VertexTexture(new Vector3F(1,1,1), new Vector2F(0,1)),
//            };
//            _mesh.SetVertices(verts);
//            SpawnParentChild(_mesh, Vector3F.Zero, out _parent, out _child);
//        }

//        private void SetupSprites(SpriteFont font)
//        {
//            for(int i = 0; i < 1000; i++)
//            {
//                SpriteText s = new SpriteText()
//                {
//                    Position = new Vector2F()
//                    {
//                        X = _rng.Next(0, 1720),
//                        Y = _rng.Next(0, 980),
//                    },

//                    Color = new Color()
//                    {
//                        R = (byte)_rng.Next(0, 256),
//                        G = (byte)_rng.Next(0, 256),
//                        B = (byte)_rng.Next(0, 256),
//                        A = 255,
//                    },

//                    Font = font,
//                    Text = $"TEST {_rng.Next(6000000, int.MaxValue)}",
//                };

//                _sprites.Add(s);
//                MainScene.AddObject(s);
//            }
//        }

//        private void Cr_OnCompleted(ContentRequest cr)
//        {
//            if (cr.RequestedFileCount == 0)
//                return;

//            ITexture2D tex = cr.Get<ITexture2D>(0);
//            IMaterial mat = cr.Get<IMaterial>(1);

//            if (mat == null)
//            {
//                Exit();
//                return;
//            }

//            mat.SetDefaultResource(tex, 0);
//            _mesh.Material = mat;
//        }

//        private void Window_OnClose(INativeSurface surface)
//        {
//            Exit();
//        }

//        protected override void OnUpdate(Timing time)
//        {
//            RotateParentChild(_parent, _child, time);
//            base.OnUpdate(time);
//        }
//    }
//}
